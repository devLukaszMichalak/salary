<div class="flex h-full items-center justify-center">
  <div class="card bg-base-100 card-md w-96 shadow-sm">
    <div class="card-body">
      <h2 class="card-title mb-4 text-2xl">Login</h2>
      <form class="flex flex-col gap-4" [formGroup]="loginForm">
        <div>
          @let emailControl = loginForm.controls.email;
          <label
            class="input"
            [class.input-error]="emailControl.invalid && emailControl.touched">
            <ng-icon class="pr-1" name="heroAtSymbol" />
            <input
              [formControl]="emailControl"
              type="email"
              placeholder="Email" />
          </label>
          <app-from-error
            [control]="emailControl"
            errorCode="email"
            message="Enter valid email address." />
          <app-from-error
            [control]="emailControl"
            errorCode="required"
            message="Email is required." />
        </div>

        <div>
          @let passwordControl = loginForm.controls.password;
          <label
            class="input"
            [class.input-error]="
              passwordControl.invalid && passwordControl.touched
            ">
            <ng-icon class="pr-1" name="heroKey" />
            <input
              [formControl]="passwordControl"
              type="password"
              placeholder="Password" />
          </label>
          <app-from-error
            [control]="passwordControl"
            errorCode="required"
            message="Password is required." />
        </div>
      </form>

      <div class="card-actions mt-2 mr-4">
        <button
          class="btn btn-primary w-full"
          [disabled]="loginForm.invalid || (loading$ | async)"
          (click)="login()">
          Sign in
        </button>
      </div>

      <a class="link mt-4 text-center" [routerLink]="'/register'">
        Don't have an account? Register now
      </a>
    </div>
  </div>
</div>
